<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../assets/css/outputDesk.css">
    <style>
        .tilt-bg {


            transition: background-position 0.1s ease;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .tilt {
            width: 300px;
            height: 200px;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 20px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            will-change: transform;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>

<body>

    <div class="card relative flex items-center justify-center">

        <div class="tilt-bg" data-tilt-bg>

            <img class="imgS" src="../assets/images/6f7c971471726892f879a0a916effb9f.jpg" style="width: 500px;" alt="">
            <h2>🌄 افکت حرکت تصویر بک‌گراند</h2>
        </div>

        <div class="tilt absolute" data-tilt data-tilt-speed="300">
            <h2>🔥 افکت Tilt حرفه‌ای</h2>
        </div>
    </div>



    <script>
        const card = document.querySelector(".card");
        const tilt = card.querySelector("[data-tilt]");
        const img = card.querySelector(".imgS");

        const scale = parseFloat(tilt.getAttribute("data-tilt-scale")) || 1;
        const speed = parseFloat(tilt.getAttribute("data-tilt-speed")) || 300;

        tilt.style.transformStyle = "preserve-3d";
        tilt.style.transition = `transform ${speed}ms ease`;
        img.style.transition = `transform 0.2s ease`;

        card.addEventListener("mouseenter", () => {
            const rect = card.getBoundingClientRect();
            card.dataset.width = rect.width;
            card.dataset.height = rect.height;
            card.dataset.left = rect.left;
            card.dataset.top = rect.top;
        });

        card.addEventListener("mousemove", (e) => {
            const width = card.dataset.width;
            const height = card.dataset.height;
            const left = card.dataset.left;
            const top = card.dataset.top;

            const x = e.clientX - left;
            const y = e.clientY - top;

            // Tilt کارت
            const rotateX = ((y / height) - 0.5) * -40;
            const rotateY = ((x / width) - 0.5) * 40;
            tilt.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;

            // حرکت عکس داخل کارت
            const moveX = ((x / width) - 0.5) * 20;
            const moveY = ((y / height) - 0.5) * 20;
            img.style.transform = `translate(${moveX}px, ${moveY}px)`;
        });

        card.addEventListener("mouseleave", () => {
            tilt.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)`;
            img.style.transform = `translate(0px, 0px)`;
        });

    </script>
</body>

</html>